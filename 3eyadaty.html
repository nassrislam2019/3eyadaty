<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3eyadaty | Medical Management System</title>
    
    <!-- Tailwind CSS (UI Framework) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome (Icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom Styles -->
    <style>
        /* Smooth Transitions */
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        .slide-in { animation: slideIn 0.3s ease-out; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #0d9488; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #0f766e; }

        /* Toast Notification */
        #toast-container { position: fixed; bottom: 20px; right: 20px; z-index: 9999; }
        .toast { background: white; border-left: 4px solid #0d9488; padding: 15px 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-radius: 4px; margin-top: 10px; display: flex; align-items: center; min-width: 300px; transform: translateX(100%); transition: transform 0.3s ease-out; }
        .toast.show { transform: translateX(0); }
    </style>
</head>
<body class="text-gray-800 h-screen flex flex-col overflow-hidden">

    <!-- NAVIGATION BAR -->
    <nav class="bg-teal-700 text-white shadow-lg z-50 flex-shrink-0">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Brand -->
            <div class="flex items-center gap-3">
                <div class="bg-white text-teal-700 p-2 rounded-lg">
                    <i class="fa-solid fa-heart-pulse text-xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold tracking-wide">3eyadaty</h1>
                    <p class="text-xs text-teal-200">Clinical Management v1.0</p>
                </div>
            </div>

            <!-- User Menu (Hidden if not logged in) -->
            <div id="nav-menu" class="hidden flex items-center gap-6">
                <div class="flex items-center gap-2">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=0d9488&color=fff" class="w-8 h-8 rounded-full border-2 border-white">
                    <span id="user-display" class="font-medium text-sm"></span>
                </div>
                <button onclick="App.logout()" class="bg-teal-800 hover:bg-teal-900 text-white px-4 py-2 rounded text-sm transition shadow-inner">
                    <i class="fa-solid fa-right-from-bracket mr-2"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main class="flex-1 overflow-y-auto relative p-4 md:p-8" id="main-container">
        
        <!-- VIEW: AUTHENTICATION -->
        <div id="view-auth" class="flex flex-col items-center justify-center min-h-[80vh] fade-in">
            <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100">
                <div class="text-center mb-8">
                    <div class="bg-teal-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-teal-600">
                        <i class="fa-solid fa-user-doctor text-3xl"></i>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800" id="auth-title">Welcome Back</h2>
                    <p class="text-gray-500 text-sm mt-1">Sign in to manage your patients</p>
                </div>

                <form id="auth-form" onsubmit="App.handleAuth(event)" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2 ml-1">Email Address</label>
                        <div class="relative">
                            <i class="fa-solid fa-envelope absolute left-3 top-3.5 text-gray-400"></i>
                            <input type="email" id="auth-email" required placeholder="admin@clinic.com" class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition">
                        </div>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2 ml-1">Password</label>
                        <div class="relative">
                            <i class="fa-solid fa-lock absolute left-3 top-3.5 text-gray-400"></i>
                            <input type="password" id="auth-password" required placeholder="••••••••" class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition">
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 rounded-lg shadow-lg shadow-teal-600/30 transition transform hover:-translate-y-0.5">
                        <span id="auth-btn-text">Login to Dashboard</span>
                    </button>
                </form>

                <div class="mt-6 text-center pt-6 border-t border-gray-100">
                    <p class="text-sm text-gray-600">
                        <span id="auth-switch-text">Don't have an account?</span>
                        <button onclick="App.toggleAuthMode()" class="text-teal-600 font-bold hover:underline ml-1" id="auth-switch-btn">Register Now</button>
                    </p>
                    <div class="mt-4 bg-blue-50 text-blue-700 text-xs p-3 rounded text-center">
                        <strong>Demo Credentials:</strong> admin@clinic.com / password
                    </div>
                </div>
            </div>
        </div>

        <!-- VIEW: DASHBOARD -->
        <div id="view-dashboard" class="hidden container mx-auto max-w-6xl fade-in pb-10">
            
            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <!-- Total Patients -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-xs font-bold uppercase tracking-wider">Total Patients</p>
                        <h3 class="text-3xl font-bold text-gray-800 mt-1" id="stat-total">0</h3>
                    </div>
                    <div class="p-4 bg-teal-50 text-teal-600 rounded-lg">
                        <i class="fa-solid fa-users text-2xl"></i>
                    </div>
                </div>

                <!-- Appointments Today -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-xs font-bold uppercase tracking-wider">Today's Visits</p>
                        <h3 class="text-3xl font-bold text-gray-800 mt-1">4</h3>
                    </div>
                    <div class="p-4 bg-blue-50 text-blue-600 rounded-lg">
                        <i class="fa-solid fa-calendar-day text-2xl"></i>
                    </div>
                </div>

                <!-- Pending Reports -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-xs font-bold uppercase tracking-wider">Pending Labs</p>
                        <h3 class="text-3xl font-bold text-gray-800 mt-1">12</h3>
                    </div>
                    <div class="p-4 bg-orange-50 text-orange-600 rounded-lg">
                        <i class="fa-solid fa-flask text-2xl"></i>
                    </div>
                </div>

                <!-- Revenue -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-xs font-bold uppercase tracking-wider">Revenue (Mo)</p>
                        <h3 class="text-3xl font-bold text-gray-800 mt-1">$4.2k</h3>
                    </div>
                    <div class="p-4 bg-green-50 text-green-600 rounded-lg">
                        <i class="fa-solid fa-dollar-sign text-2xl"></i>
                    </div>
                </div>
            </div>

            <!-- Toolbar -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                <div class="relative w-full md:w-96">
                    <i class="fa-solid fa-search absolute left-3 top-3 text-gray-400"></i>
                    <input type="text" id="search-input" onkeyup="App.renderPatients()" placeholder="Search patients by name..." class="w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 bg-white shadow-sm">
                </div>
                <button onclick="App.openModal()" class="w-full md:w-auto bg-teal-600 hover:bg-teal-700 text-white px-6 py-2.5 rounded-lg shadow-md flex items-center justify-center gap-2 transition">
                    <i class="fa-solid fa-plus"></i> Add New Patient
                </button>
            </div>

            <!-- Patient Table -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead class="bg-gray-50 text-gray-600 text-xs uppercase font-semibold tracking-wider">
                            <tr>
                                <th class="px-6 py-4">ID</th>
                                <th class="px-6 py-4">Patient Details</th>
                                <th class="px-6 py-4">Condition / Diagnosis</th>
                                <th class="px-6 py-4">Documents</th>
                                <th class="px-6 py-4">Status</th>
                                <th class="px-6 py-4 text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="patient-list" class="divide-y divide-gray-100 text-sm">
                            <!-- Rows injected via JS -->
                        </tbody>
                    </table>
                </div>
                <!-- Empty State -->
                <div id="empty-state" class="hidden py-12 flex flex-col items-center justify-center text-center">
                    <div class="bg-gray-50 p-4 rounded-full mb-3">
                        <i class="fa-solid fa-clipboard-user text-gray-400 text-3xl"></i>
                    </div>
                    <h3 class="text-lg font-medium text-gray-700">No patients found</h3>
                    <p class="text-gray-500 text-sm mt-1">Add a new patient or adjust your search filters.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- MODAL: ADD/EDIT PATIENT -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg transform scale-95 transition-all slide-in" id="modal-content">
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-6 border-b border-gray-100">
                <h3 class="text-xl font-bold text-gray-800" id="modal-title">Add Patient</h3>
                <button onclick="App.closeModal()" class="text-gray-400 hover:text-gray-600 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition">
                    <i class="fa-solid fa-xmark text-lg"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <form id="patient-form" onsubmit="App.savePatient(event)" class="p-6 space-y-4">
                <input type="hidden" id="p-id">
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-2">
                        <label class="block text-gray-700 text-sm font-bold mb-1">Full Name</label>
                        <input type="text" id="p-name" required placeholder="John Doe" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-1">Age</label>
                        <input type="number" id="p-age" required placeholder="30" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-1">Status</label>
                        <select id="p-status" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                            <option value="Active">Active</option>
                            <option value="Discharged">Discharged</option>
                            <option value="Pending">Pending</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-1">Diagnosis / Condition</label>
                    <textarea id="p-condition" required rows="3" placeholder="e.g. Type 2 Diabetes, Regular Checkup..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"></textarea>
                </div>

                <div>
                    <label class="block text-gray-700 text-sm font-bold mb-1">Attach File</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition cursor-pointer relative">
                        <input type="file" id="p-file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" onchange="App.handleFileSelect(this)">
                        <div id="file-label">
                            <i class="fa-solid fa-cloud-arrow-up text-gray-400 text-2xl mb-1"></i>
                            <p class="text-xs text-gray-500">Click to upload image or PDF</p>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="flex justify-end gap-3 mt-6 pt-2">
                    <button type="button" onclick="App.closeModal()" class="px-5 py-2.5 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition">Cancel</button>
                    <button type="submit" class="px-5 py-2.5 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-bold shadow-md transition">Save Patient</button>
                </div>
            </form>
        </div>
    </div>

    <!-- TOAST CONTAINER -->
    <div id="toast-container"></div>

    <!-- APPLICATION LOGIC -->
    <script>
        /**
         * 3eyadaty App Logic
         * Implements Auth, CRUD, Persistence in one object namespace.
         */
        const App = {
            // Configuration
            DB_KEY: '3eyadaty_db_v2',
            state: {
                user: null,
                patients: [],
                authMode: 'login'
            },

            // --- INITIALIZATION ---
            init() {
                this.loadData();
                this.checkSession();
                
                // Demo Data Seeding if empty
                if (this.state.patients.length === 0) {
                    this.state.patients = [
                        { id: 101, name: "Ahmed Ali", age: 45, condition: "Hypertension Stage 1", status: "Active", file: "blood_work.pdf", date: "2023-11-01" },
                        { id: 102, name: "Sarah Connor", age: 32, condition: "Fractured Radius", status: "Active", file: "xray_arm.jpg", date: "2023-11-05" },
                        { id: 103, name: "Mike Ross", age: 28, condition: "Routine Dental Cleaning", status: "Discharged", file: null, date: "2023-10-20" }
                    ];
                    this.saveData();
                }
            },

            loadData() {
                const stored = localStorage.getItem(this.DB_KEY);
                if (stored) {
                    const data = JSON.parse(stored);
                    this.state.patients = data.patients || [];
                }
            },

            saveData() {
                localStorage.setItem(this.DB_KEY, JSON.stringify({ patients: this.state.patients }));
                this.updateStats();
            },

            // --- AUTHENTICATION ---
            checkSession() {
                const user = sessionStorage.getItem('3eyadaty_user');
                if (user) {
                    this.state.user = user;
                    this.showDashboard();
                } else {
                    this.showAuth();
                }
            },

            handleAuth(e) {
                e.preventDefault();
                const email = document.getElementById('auth-email').value;
                const password = document.getElementById('auth-password').value;

                if (this.state.authMode === 'login') {
                    // Simulating a backend check
                    if ((email === 'admin@clinic.com' && password === 'password') || localStorage.getItem('custom_user_' + email) === password) {
                        this.login(email);
                    } else {
                        this.showToast('Invalid credentials. Try admin@clinic.com / password', 'error');
                    }
                } else {
                    // Register
                    if (localStorage.getItem('custom_user_' + email)) {
                        this.showToast('User already exists', 'error');
                        return;
                    }
                    localStorage.setItem('custom_user_' + email, password);
                    this.showToast('Registration successful! Please login.', 'success');
                    this.toggleAuthMode();
                }
            },

            login(email) {
                sessionStorage.setItem('3eyadaty_user', email);
                this.state.user = email;
                this.showToast('Welcome back!', 'success');
                this.showDashboard();
            },

            logout() {
                sessionStorage.removeItem('3eyadaty_user');
                this.state.user = null;
                this.showAuth();
                this.showToast('Logged out successfully', 'neutral');
            },

            toggleAuthMode() {
                this.state.authMode = this.state.authMode === 'login' ? 'register' : 'login';
                const isLogin = this.state.authMode === 'login';
                
                document.getElementById('auth-title').innerText = isLogin ? 'Welcome Back' : 'Create Account';
                document.getElementById('auth-btn-text').innerText = isLogin ? 'Login to Dashboard' : 'Register Account';
                document.getElementById('auth-switch-text').innerText = isLogin ? "Don't have an account?" : "Already have an account?";
                document.getElementById('auth-switch-btn').innerText = isLogin ? "Register Now" : "Login";
            },

            // --- NAVIGATION / UI ---
            showAuth() {
                document.getElementById('view-auth').classList.remove('hidden');
                document.getElementById('view-dashboard').classList.add('hidden');
                document.getElementById('nav-menu').classList.add('hidden');
            },

            showDashboard() {
                document.getElementById('view-auth').classList.add('hidden');
                document.getElementById('view-dashboard').classList.remove('hidden');
                document.getElementById('nav-menu').classList.remove('hidden');
                document.getElementById('nav-menu').classList.add('flex'); // Ensure flex is applied
                document.getElementById('user-display').innerText = this.state.user.split('@')[0];
                this.renderPatients();
            },

            // --- PATIENT CRUD ---
            renderPatients() {
                const list = document.getElementById('patient-list');
                const emptyState = document.getElementById('empty-state');
                const searchTerm = document.getElementById('search-input').value.toLowerCase();
                
                list.innerHTML = '';

                // Filter
                const filtered = this.state.patients.filter(p => p.name.toLowerCase().includes(searchTerm) || p.condition.toLowerCase().includes(searchTerm));

                this.updateStats();

                if (filtered.length === 0) {
                    emptyState.classList.remove('hidden');
                    return;
                }
                emptyState.classList.add('hidden');

                filtered.forEach(p => {
                    const row = document.createElement('tr');
                    row.className = 'border-b border-gray-100 hover:bg-gray-50 transition';
                    
                    // Status Badge Logic
                    const statusColors = {
                        'Active': 'bg-green-100 text-green-700',
                        'Discharged': 'bg-gray-100 text-gray-700',
                        'Pending': 'bg-orange-100 text-orange-700'
                    };
                    const badgeClass = statusColors[p.status] || 'bg-gray-100';

                    // File HTML
                    const fileHtml = p.file 
                        ? `<a href="#" class="flex items-center gap-1 text-teal-600 hover:underline text-xs font-medium bg-teal-50 px-2 py-1 rounded w-max"><i class="fa-solid fa-paperclip"></i> ${p.file}</a>` 
                        : `<span class="text-gray-400 text-xs italic">No attachment</span>`;

                    row.innerHTML = `
                        <td class="px-6 py-4 text-gray-400 font-mono text-xs">#${p.id}</td>
                        <td class="px-6 py-4">
                            <div class="font-bold text-gray-800">${p.name}</div>
                            <div class="text-xs text-gray-500">${p.age} years old</div>
                        </td>
                        <td class="px-6 py-4 text-gray-700 text-sm max-w-xs truncate">${p.condition}</td>
                        <td class="px-6 py-4">${fileHtml}</td>
                        <td class="px-6 py-4">
                            <span class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${badgeClass}">${p.status}</span>
                        </td>
                        <td class="px-6 py-4 text-right">
                            <button onclick="App.editPatient(${p.id})" class="text-blue-500 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 w-8 h-8 rounded-full transition mr-1"><i class="fa-solid fa-pen"></i></button>
                            <button onclick="App.deletePatient(${p.id})" class="text-red-500 hover:text-red-700 bg-red-50 hover:bg-red-100 w-8 h-8 rounded-full transition"><i class="fa-solid fa-trash"></i></button>
                        </td>
                    `;
                    list.appendChild(row);
                });
            },

            updateStats() {
                document.getElementById('stat-total').innerText = this.state.patients.length;
            },

            // --- MODALS & FORMS ---
            openModal(id = null) {
                const modal = document.getElementById('modal-overlay');
                const title = document.getElementById('modal-title');
                const form = document.getElementById('patient-form');
                const fileLabel = document.getElementById('file-label');
                
                modal.classList.remove('hidden');
                
                if (id) {
                    const p = this.state.patients.find(pat => pat.id === id);
                    title.innerText = 'Edit Patient Record';
                    document.getElementById('p-id').value = p.id;
                    document.getElementById('p-name').value = p.name;
                    document.getElementById('p-age').value = p.age;
                    document.getElementById('p-condition').value = p.condition;
                    document.getElementById('p-status').value = p.status;
                    fileLabel.innerHTML = p.file ? `<i class="fa-solid fa-check text-green-500 text-2xl mb-1"></i><p class="text-xs text-green-600 font-bold">${p.file}</p>` : fileLabel.innerHTML;
                } else {
                    title.innerText = 'Add New Patient';
                    form.reset();
                    document.getElementById('p-id').value = '';
                    fileLabel.innerHTML = `<i class="fa-solid fa-cloud-arrow-up text-gray-400 text-2xl mb-1"></i><p class="text-xs text-gray-500">Click to upload image or PDF</p>`;
                }
            },

            closeModal() {
                document.getElementById('modal-overlay').classList.add('hidden');
            },

            handleFileSelect(input) {
                if(input.files && input.files[0]) {
                    const label = document.getElementById('file-label');
                    label.innerHTML = `<i class="fa-solid fa-file-arrow-up text-teal-500 text-2xl mb-1"></i><p class="text-xs text-gray-800 font-bold">${input.files[0].name}</p>`;
                }
            },

            savePatient(e) {
                e.preventDefault();
                const id = document.getElementById('p-id').value;
                const name = document.getElementById('p-name').value;
                const age = document.getElementById('p-age').value;
                const condition = document.getElementById('p-condition').value;
                const status = document.getElementById('p-status').value;
                const fileInput = document.getElementById('p-file');
                
                // Simulate file upload logic
                let fileName = null;
                if (fileInput.files.length > 0) {
                    fileName = fileInput.files[0].name;
                } else if (id) {
                    // Keep existing file if editing and no new file selected
                    const existing = this.state.patients.find(p => p.id == id);
                    if(existing) fileName = existing.file;
                }

                if (id) {
                    // Update
                    const index = this.state.patients.findIndex(p => p.id == id);
                    if (index > -1) {
                        this.state.patients[index] = { ...this.state.patients[index], name, age, condition, status, file: fileName };
                        this.showToast('Patient record updated', 'success');
                    }
                } else {
                    // Create
                    const newId = this.state.patients.length > 0 ? Math.max(...this.state.patients.map(p => p.id)) + 1 : 101;
                    this.state.patients.unshift({ // Add to top
                        id: newId,
                        name,
                        age,
                        condition,
                        status,
                        file: fileName,
                        date: new Date().toISOString().split('T')[0]
                    });
                    this.showToast('New patient created successfully', 'success');
                }

                this.saveData();
                this.closeModal();
                this.renderPatients();
            },

            editPatient(id) {
                this.openModal(id);
            },

            deletePatient(id) {
                if (confirm('Are you sure you want to delete this record? This cannot be undone.')) {
                    this.state.patients = this.state.patients.filter(p => p.id !== id);
                    this.saveData();
                    this.renderPatients();
                    this.showToast('Patient record deleted', 'error');
                }
            },

            // --- NOTIFICATIONS ---
            showToast(message, type = 'success') {
                const container = document.getElementById('toast-container');
                const toast = document.createElement('div');
                toast.className = 'toast';
                
                const iconColor = type === 'success' ? 'text-green-500' : (type === 'error' ? 'text-red-500' : 'text-gray-500');
                const borderColors = { 'success': '#0d9488', 'error': '#ef4444', 'neutral': '#6b7280' };
                const iconClass = type === 'success' ? 'fa-circle-check' : (type === 'error' ? 'fa-circle-exclamation' : 'fa-info-circle');

                toast.style.borderLeftColor = borderColors[type];
                toast.innerHTML = `
                    <i class="fa-solid ${iconClass} ${iconColor} text-xl mr-3"></i>
                    <p class="font-medium text-sm text-gray-700">${message}</p>
                `;

                container.appendChild(toast);

                // Animate In
                setTimeout(() => toast.classList.add('show'), 100);

                // Remove after 3s
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }
        };

        // Boot the App
        document.addEventListener('DOMContentLoaded', () => App.init());

    </script>
</body>
</html>
